BetaJS.Templates.Cached=BetaJS.Templates.Cached||{},BetaJS.Templates.Cached["rich-editor-view-template"]='  <div class="rich-editor-view">    <div class="controlbox">       <div class="button" style="float: left"><div class="buttonicon icon ui-icon-power"></div></div>       <div class="button" style="float: left"><div class="buttonicon icon ui-icon-phone"></div></div>       <div class="button" style="float: left"><div class="buttonicon icon ui-icon-apple"></div></div>   </div>   <div class="editbox">   </div>  </div> ',BetaJS.Templates.Cached["simple-rich-editor-view-template"]='  <div class="simple-rich-editor-view" contenteditable="true" data-selector="inner">   {%= content %}  </div> ',BetaJS.Views.View.extend("BetaJS.Views.SimpleRichEditorView",{_templates:{"default":BetaJS.Templates.Cached["simple-rich-editor-view-template"]},constructor:function(a){this._inherited(BetaJS.Views.SimpleRichEditorView,"constructor",a),this._setOptionProperty(a,"content",""),this.actions.__context=this,this.selection.__context=this,this.caret.__context=this},_events:function(){return this._inherited(BetaJS.Views.SimpleRichEditorView,"_events").concat([{"blur [data-selector='inner']":"__change","keyup [data-selector='inner']":"__change","paste [data-selector='inner']":"__change"}])},__change:function(){this.set("content",this.$("[data-selector='inner']").html())},_render:function(){this._inherited(BetaJS.Views.SimpleRichEditorView,"_render"),this._editor=this.$("[data-selector='inner']")},actions:{__context:null,hasParentElement:function(a){var b=this.__context.selection,c=this.__context.caret;return b.isSelected()?b.hasParentElement(a):c.hasParentElement(a)},setParentElement:function(a,b){var c=this.hasParentElement(a);if(BetaJS.Types.is_undefined(b)&&(b=!c),b!=c){var d=this.__context.selection.isSelected()?this.__context.selection:this.__context.caret;c?d.removeParentElement(a):d.addParentElement(a)}},isBold:function(){return this.hasParentElement("strong")},bold:function(a){this.setParentElement("strong",a)},isItalic:function(){return this.hasParentElement("i")},italic:function(a){this.setParentElement("i",a)}},selection:{__context:null,isSelected:function(){return!0},hasParentElement:function(a){return BetaJS.Browser.Dom.hasParentElementsTag(a,BetaJS.Browser.Dom.parentElementBySelection(),this.__context._editor.get(0))},addParentElement:function(){},removeParentElement:function(){}},caret:{__context:null,hasParentElement:function(a){return BetaJS.Browser.Dom.hasParentElementsTag(a,BetaJS.Browser.Dom.parentElementBySelection(),this.__context._editor)},addParentElement:function(){},removeParentElement:function(){}}}),BetaJS.Views.ListContainerView.extend("BetaJS.Views.RichEditorView",{constructor:function(a){a=a||{},a.el="body",a.el_classes="rich-editor-view",a.alignment="vertical",this._inherited(BetaJS.Views.RichEditorView,"constructor",a),this._setOptionProperty(a,"content","")},_domain:function(){return{toolbar:{type:"ListContainerView",options:{el_classes:"toolbar"}},font_style_dropdown:{type:"ButtonView",parent:"toolbar",options:{label:"Font"},events:{click:function(){alert("Dropdown change font-style")}}},font_size_dropdown:{type:"ButtonView",parent:"toolbar",options:{label:"16"},events:{click:function(){alert("Dropdown change font-size")}}},seperator1:{type:"BetaJS.Views.View",parent:"toolbar",options:{el_classes:"seperator"}},bold_button:{type:"ButtonView",parent:"toolbar",options:{label:"B",children_classes:"bold",hotkey:"ctrl+b"},events:{click:function(){alert("Bold? "+this.domain.ns.editor_view.actions.isBold())}}},italic_button:{type:"ButtonView",parent:"toolbar",options:{label:"I",children_classes:"italic",hotkey:"ctrl+i"},events:{click:function(){alert("Italic? "+this.domain.ns.editor_view.actions.isItalic())}}},underline_button:{type:"ButtonView",parent:"toolbar",options:{label:"U",children_classes:"underline"},events:{click:function(){alert("Underline")}}},seperator2:{type:"BetaJS.Views.View",parent:"toolbar",options:{el_classes:"seperator"}},left_align_button:{type:"ButtonView",parent:"toolbar",options:{label:"L",children_classes:"icon-align-left"},events:{click:function(){alert("text-align: left")}}},center_align_button:{type:"ButtonView",parent:"toolbar",options:{label:"C"},events:{click:function(){alert("text-align: center")}}},right_align_button:{type:"ButtonView",parent:"toolbar",options:{label:"R"},events:{click:function(){alert("text-align: right")}}},Justify_align_button:{type:"ButtonView",parent:"toolbar",options:{label:"J"},events:{click:function(){alert("text-align: justify")}}},editor_view:{type:"BetaJS.Views.SimpleRichEditorView",el:".editbox",options:function(a){return{children_classes:"textareadiv",content:a.binding("content")}}}}}});